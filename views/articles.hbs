<link rel="stylesheet" href="/css/articles.css" />

{{>overlay}}
{{>citation-modal}}
<section class="search-section bg-gray">
  <form id="searchForm" name="search" action="/articles/search" method="GET">
    <div class="search-section__container">
      <input class="search-section__input" type="text" id="searchQuery" placeholder="Search" name="q" />
      <button type="submit">
        <span class="material-symbols-outlined">
          search
        </span>
      </button>
    </div>
  </form>
</section>
<section class="padded">
  <div class="flex container">
    <div class="filter">
      <h4>Filter By:</h4>
      <div class="filter__box">
        <h4>Year</h4>
        <fieldset form="searchForm" name="year" id="yearField">
          {{#if yearList}}
            {{#each yearList}}
            <div>
              <input type="checkbox" name="year" form="searchForm" id="{{this}}" value="{{this}}" />
              <label for="{{this}}">{{this}}</label>
            </div>
            {{/each}}
          {{/if}}
        </fieldset>
      </div>
    </div>
    <div class="article__list">
      {{#if articles}}
        {{#each articles}}
          {{>article-item}}
        {{/each}}
      {{else}}
        <h2>No articles found...</h2>
      {{/if}}
    </div>
  </div>
  <div class="pagination flex">
    {{#paginate totalPages}}
      <button class="pagination__btn"  form="searchForm" name="page" value="{{this}}">
        {{this}}
      </button>
    {{/paginate}}
  </div>
</section>
<script src="/js/articles.js"></script>
